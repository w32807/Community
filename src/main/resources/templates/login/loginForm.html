<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<!--/* 마치 인클루드처럼, basic 레이아웃을 1개 만들고 내부의 화면은 따로 매개변수처럼 넣어줌 */-->
<th:block th:replace="~{/layout/emptyLayout :: setContent(~{::title}, ~{this::content})}">
	<title th:text="#{login.title}"/>
	<th:block th:fragment="content">
		<div class="container">
			<div class="row justify-content-center">
				<div class="col-lg-6">
					<div class="card shadow-lg border-0 rounded-lg mt-5">
						<div class="card-header"><h3 class="text-center font-weight-light my-4" th:text="#{login.title}"/></div>
						<div class="card-body">
							<form action="/login/loginProcess" method="post">
								<div class="row mb-3">
									<div class="pt-3">
										<div class="form-floating mb-3 mb-md-0">
											<input class="form-control" id="email" name="email" type="text" th:placeholder="#{ph.email}"/>
											<label for="email" th:text="#{ph.email}">
												<i class="fa fa-calendar me-1"></i>
											</label>
											<!--<span class="errorMsg" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"/>-->
										</div>
									</div>
								</div>
								<div class="row mb-3">
									<div class="pt-3">
										<div class="form-floating mb-3 mb-md-0">
											<input class="form-control" id="password" name="password" type="password" th:placeholder="#{ph.password}"/>
											<label for="password" th:text="#{ph.password}">
												<i class="fa fa-calendar me-1"></i>
											</label>
											<!--<span class="errorMsg" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"/>-->
										</div>
									</div>
								</div>
								<div id="loginFail" class="mt-4 mb-0">
									<div class="d-grid"><span class="form-control-plaintext errorMsg" th:text="${msg}"/></div>
								</div>
								<div class="mt-4 mb-0">
									<div class="d-grid"><a class="btn btn-primary btn-block" onclick="login()" th:text="#{btn.login}"/></div>
								</div>
								<div class="mt-4 mb-0">
									<div class="d-grid"><a class="btn btn-link btn-block" th:href="@{/member/joinForm}" th:text="#{btn.joinMember}"/></div>
								</div>
								<input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</th:block>
</th:block>

<script th:inline="javascript">
	$(document).ready(function() {
	  var msg = [[${msg}]];
	  (!isStrNull(msg)) ? $('#loginFail').show() : $('#loginFail').hide();
	});

	function login(){
	console.log()
		$('form').submit();
	}
</script>